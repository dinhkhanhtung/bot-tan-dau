// Debug script Ä‘á»ƒ kiá»ƒm tra session data
// Cháº¡y script nÃ y Ä‘á»ƒ debug session data

console.log('ğŸ” Debug Session Data...')
console.log('')
console.log('ğŸ“‹ Checklist Ä‘á»ƒ debug registration flow:')
console.log('')
console.log('1. Kiá»ƒm tra Database:')
console.log('   - Cháº¡y database-schema.sql Ä‘á»ƒ thÃªm cá»™t step')
console.log('   - Kiá»ƒm tra báº£ng bot_sessions cÃ³ cá»™t step chÆ°a')
console.log('')
console.log('2. Kiá»ƒm tra Session Data:')
console.log('   - User nháº­p tÃªn: session.data.name = "Äinh KhÃ¡nh TÃ¹ng"')
console.log('   - User nháº­p phone: session.data.phone = "0982581222"')
console.log('   - Session step pháº£i chuyá»ƒn tá»« "name" -> "phone" -> "location"')
console.log('')
console.log('3. Kiá»ƒm tra Message Flow:')
console.log('   - handleNameStep: gá»­i "Há» tÃªn: ${text.trim()}" vá»›i text = tÃªn')
console.log('   - handlePhoneStep: gá»­i "SÄT: ${phone}" vá»›i phone = sá»‘ Ä‘iá»‡n thoáº¡i')
console.log('   - KhÃ´ng Ä‘Æ°á»£c gá»­i message "Há» tÃªn:" khi Ä‘ang á»Ÿ step phone')
console.log('')
console.log('4. Váº¥n Ä‘á» cÃ³ thá»ƒ xáº£y ra:')
console.log('   - Session data bá»‹ ghi Ä‘Ã¨')
console.log('   - CÃ³ nhiá»u message Ä‘Æ°á»£c gá»­i cÃ¹ng lÃºc')
console.log('   - Logic xá»­ lÃ½ step bá»‹ lá»—i')
console.log('   - Anti-spam system can thiá»‡p')
console.log('')
console.log('5. CÃ¡ch debug:')
console.log('   - ThÃªm console.log vÃ o handleNameStep vÃ  handlePhoneStep')
console.log('   - Kiá»ƒm tra session data trÆ°á»›c vÃ  sau má»—i step')
console.log('   - Kiá»ƒm tra message nÃ o Ä‘Æ°á»£c gá»­i')
console.log('')
console.log('ğŸ¯ Káº¿t luáº­n:')
console.log('Váº¥n Ä‘á» lÃ  bot hiá»ƒn thá»‹ "Há» tÃªn: 0982581222" thay vÃ¬ "SÄT: 0982581222"')
console.log('CÃ³ thá»ƒ do session data bá»‹ lá»—i hoáº·c logic xá»­ lÃ½ step bá»‹ sai')
